name: Release Notification To Slack

on:
  workflow_dispatch:

jobs:
  get_release_notes:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout repository
        uses: actions/checkout@v2
      - name: Get latest release notes
        run: |
          release_info=$(curl -H "Accept: application/vnd.github.v3+json" https://api.github.com/repos/jaehwaa/github-actions/releases/latest)
          release_notes=$(echo $release_info | jq -r '.body')
          echo "최근 릴리스 노트 정보:"
          echo $release_notes
      - name: front-deploy-notification
        uses: rtCamp/action-slack-notify@v2
        env:
          SLACK_CHANNEL: reboot-qa-issue
          SLACK_WEBHOOK: https://hooks.slack.com/services/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